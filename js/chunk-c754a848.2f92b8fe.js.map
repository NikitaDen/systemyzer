{"version":3,"sources":["webpack:///./src/views/Favorites.vue?7f3e","webpack:///./src/views/Favorites.vue?0988","webpack:///src/views/Favorites.vue","webpack:///./src/views/Favorites.vue?1f80","webpack:///./src/views/Favorites.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","favoriteTopics","model","value","callback","$$v","activeNamesForFavorites","expression","_l","topic","key","id","attrs","groupId","on","$event","addTopicToFavoritesHandler","setTopicDoneHandler","deleteTopicHandler","_e","staticRenderFns","groupTitle","item","title","component"],"mappings":"kHAAA,yBAAsiB,EAAG,G,oECAziB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAa,UAAEI,EAAG,UAAUA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,eAAgBP,EAAIQ,eAAqB,OAAEJ,EAAG,cAAc,CAACK,MAAM,CAACC,MAAOV,EAA2B,wBAAEW,SAAS,SAAUC,GAAMZ,EAAIa,wBAAwBD,GAAKE,WAAW,4BAA4Bd,EAAIe,GAAIf,EAAkB,gBAAE,SAASgB,GAAO,OAAOZ,EAAG,mBAAmB,CAACa,IAAID,EAAME,GAAGC,MAAM,CAAC,MAAUH,EAAW,MAAI,MAASA,EAAgB,WAAG,KAAOA,EAAME,KAAK,CAACd,EAAG,aAAa,CAACe,MAAM,CAAC,MAAQH,EAAM,QAAUA,EAAMI,SAASC,GAAG,CAAC,aAAe,SAASC,GAAQ,OAAOtB,EAAIuB,2BAA2BD,IAAS,YAAc,SAASA,GAAQ,OAAOtB,EAAIwB,oBAAoBF,IAAS,cAAgB,SAASA,GAAQ,OAAOtB,EAAIyB,mBAAmBH,QAAa,MAAK,GAAGtB,EAAI0B,MAAM,IAC90BC,EAAkB,G,wIC2BtB,GACE,KAAF,YACE,WAAF,CAAI,OAAJ,OAAI,WAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,wBAAN,GACM,WAAN,EACM,YAAN,IAGE,QAAF,iCACA,kGADA,IAEI,mBAFJ,YAEM,IAAN,OAAM,OAAN,wKACA,eADA,kBAGA,gCAHA,0DAKA,kBALA,QAOA,eAPA,4DASI,oBAXJ,YAWM,IAAN,OAAM,OAAN,4LAEA,mBAFA,SAGA,wCAHA,OAIA,mBAEA,cACA,sBACA,iBACA,YACA,6BACA,iBAXA,mDAcA,kBAdA,4DAiBI,2BA5BJ,YA4BM,IAAN,OAAM,OAAN,gMAEA,mBAFA,SAGA,mDAHA,OAIA,mBAEA,cACA,oCACA,iBACA,YACA,wCACA,iBAXA,mDAeA,kBAfA,8DAmBE,SAAF,iCACA,4BADA,IAGI,eAHJ,WAIM,IAAN,KAQM,OAPA,KAAN,4BACQ,IAAR,+CAAU,OAAV,mCAAU,OAAV,iCACA,GADA,IAEYC,WAAYC,EAAKC,WAErB,EAAR,kDAEA,KAGE,QAzEF,WAyEI,IAAJ,OAAI,OAAJ,6IACA,sEADA,SAEA,gBAFA,OAGA,eAHA,+CCrGmV,I,wBCQ/UC,EAAY,eACd,EACAhC,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAI,E","file":"js/chunk-c754a848.2f92b8fe.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=style&index=0&id=0e62170e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=style&index=0&id=0e62170e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('Loader'):_c('div',{staticClass:\"home\"},[_c('h2',[_vm._v(\"Favorites\")]),(_vm.favoriteTopics.length)?_c('el-collapse',{model:{value:(_vm.activeNamesForFavorites),callback:function ($$v) {_vm.activeNamesForFavorites=$$v},expression:\"activeNamesForFavorites\"}},_vm._l((_vm.favoriteTopics),function(topic){return _c('el-collapse-item',{key:topic.id,attrs:{\"title\":((topic.title) + \" — \" + (topic.groupTitle)),\"name\":topic.id}},[_c('TopicItems',{attrs:{\"topic\":topic,\"groupId\":topic.groupId},on:{\"onTopicToFav\":function($event){return _vm.addTopicToFavoritesHandler($event)},\"onTopicDone\":function($event){return _vm.setTopicDoneHandler($event)},\"onDeleteTopic\":function($event){return _vm.deleteTopicHandler($event)}}})],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Loader v-if=\"isLoading\"></Loader>\r\n\r\n  <div class=\"home\" v-else>\r\n    <h2>Favorites</h2>\r\n\r\n    <el-collapse v-if=\"favoriteTopics.length\" v-model=\"activeNamesForFavorites\">\r\n      <el-collapse-item v-for=\"topic of favoriteTopics\" :title=\"`${topic.title} — ${topic.groupTitle}`\" :key=\"topic.id\"\r\n                        :name=\"topic.id\">\r\n        <TopicItems\r\n          @onTopicToFav=\"addTopicToFavoritesHandler($event)\"\r\n          @onTopicDone=\"setTopicDoneHandler($event)\"\r\n          @onDeleteTopic=\"deleteTopicHandler($event)\"\r\n          :topic=\"topic\"\r\n          :groupId=\"topic.groupId\"\r\n        ></TopicItems>\r\n\r\n      </el-collapse-item>\r\n    </el-collapse>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Loader from \"../components/Loader\";\r\n  import TopicItems from \"../components/TopicItems\";\r\n  import {mapActions, mapGetters} from \"vuex\";\r\n\r\n  export default {\r\n    name: 'Favorites',\r\n    components: {Loader, TopicItems},\r\n\r\n    data() {\r\n      return {\r\n        activeNamesForFavorites: [],\r\n        isLoading: true,\r\n        addingLink: false,\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['fetchGroups', 'deleteTopic', 'createTopic', 'addTopicToFavorites', 'setTopicDone']),\r\n      async deleteTopicHandler({groupId, id}) {\r\n        this.isLoading = true;\r\n        try {\r\n          await this.deleteTopic({groupId, id});\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      async setTopicDoneHandler({groupId, id, done}) {\r\n        try {\r\n          this.updatingTopic = true;\r\n          await this.setTopicDone({groupId, id, done});\r\n          this.updatingTopic = false;\r\n\r\n          done ? this.$message({\r\n            message: 'Topic done.',\r\n            type: 'success'\r\n          }) : this.$message({\r\n            message: 'Topic is not done.',\r\n            type: 'warning'\r\n          });\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      },\r\n      async addTopicToFavoritesHandler({groupId, id, favorite}) {\r\n        try {\r\n          this.updatingTopic = true;\r\n          await this.addTopicToFavorites({groupId, id, favorite});\r\n          this.updatingTopic = false;\r\n\r\n          favorite ? this.$message({\r\n            message: 'Topic added to favorites.',\r\n            type: 'success'\r\n          }) : this.$message({\r\n            message: 'Topic removed from favorites.',\r\n            type: 'warning'\r\n          });\r\n\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      ...mapGetters(['groups']),\r\n\r\n      favoriteTopics() {\r\n        let favoriteTopic = [];\r\n        this.groups.forEach(item => {\r\n          const favoriteTopics = [...item.topics].filter(topic => topic.favorite === true).map(key => ({\r\n            ...key,\r\n            groupTitle: item.title\r\n          }));\r\n          favoriteTopic = [...favoriteTopic, ...favoriteTopics]\r\n        });\r\n        return favoriteTopic\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.$store.commit('setActivePage', this.$router.history.current.meta.index);\r\n      await this.fetchGroups();\r\n      this.isLoading = false\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"./../assets/styles/items\";\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favorites.vue?vue&type=template&id=0e62170e&scoped=true&\"\nimport script from \"./Favorites.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Favorites.vue?vue&type=style&index=0&id=0e62170e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e62170e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}